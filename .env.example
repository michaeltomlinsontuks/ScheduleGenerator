# =============================================================================
# UP Schedule Generator V3 - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values for your environment.
# NEVER commit .env to version control!
#
# ENVIRONMENTS:
# - Development: Use localhost, default passwords, HTTP
# - Production: Use domain, strong passwords, HTTPS, monitoring enabled
# =============================================================================

# -----------------------------------------------------------------------------
# Domain Configuration
# -----------------------------------------------------------------------------
# Development: Use localhost
# Production: Use your actual domain (e.g., schedgen.example.com)
DOMAIN=localhost

# Development: Use http://localhost
# Production: Use https://yourdomain.com
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:3001

# -----------------------------------------------------------------------------
# Node Environment
# -----------------------------------------------------------------------------
# Development: development
# Production: production
NODE_ENV=development

# -----------------------------------------------------------------------------
# Backend Server Configuration
# -----------------------------------------------------------------------------
PORT=3001

# Development: Use any value
# Production: Generate with: openssl rand -base64 32
SESSION_SECRET=your-session-secret-change-in-production

# -----------------------------------------------------------------------------
# PostgreSQL Database
# -----------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=schedgen
POSTGRES_DB=schedgen

# Development: Use any password
# Production: Generate with: openssl rand -base64 32
POSTGRES_PASSWORD=your-secure-database-password

# -----------------------------------------------------------------------------
# Redis (Job Queue)
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# MinIO Object Storage (S3-compatible)
# -----------------------------------------------------------------------------
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_BUCKET=pdf-uploads

# Development: Use defaults
# Production: Change access key and generate secret with: openssl rand -base64 32
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=your-secure-minio-password

# Development: false (internal network)
# Production: false (Traefik handles TLS)
MINIO_USE_SSL=false


# -----------------------------------------------------------------------------
# Google OAuth 2.0
# -----------------------------------------------------------------------------
# Create credentials at: https://console.cloud.google.com/apis/credentials
# Required scopes: calendar.events, userinfo.email, userinfo.profile
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Development: http://localhost:3001/api/auth/google/callback
# Production: https://api.yourdomain.com/api/auth/google/callback
GOOGLE_CALLBACK_URL=http://localhost:3001/api/auth/google/callback

# -----------------------------------------------------------------------------
# PDF Worker Service
# -----------------------------------------------------------------------------
# URL for the Python PDF parsing microservice
PDF_WORKER_URL=http://pdf-worker:5000
PARSER_URL=http://pdf-worker:5000

# -----------------------------------------------------------------------------
# Traefik Configuration
# -----------------------------------------------------------------------------
# Dashboard credentials (generate with: htpasswd -nb admin password)
TRAEFIK_DASHBOARD_USER=admin
TRAEFIK_DASHBOARD_PASSWORD=$apr1$xyz$hashedpassword

# Email for Let's Encrypt SSL certificate notifications
ACME_EMAIL=your-email@example.com

# -----------------------------------------------------------------------------
# Grafana Configuration
# -----------------------------------------------------------------------------
# Admin credentials for Grafana dashboard
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your-secure-grafana-password

# SMTP configuration for Grafana alerts (optional)
GRAFANA_SMTP_ENABLED=false
GRAFANA_SMTP_HOST=smtp.example.com:587
GRAFANA_SMTP_USER=grafana@example.com
GRAFANA_SMTP_PASSWORD=your-smtp-password
GRAFANA_SMTP_FROM=grafana@example.com

# -----------------------------------------------------------------------------
# Backup Configuration (Production)
# -----------------------------------------------------------------------------
# Backup schedule (cron format)
# Default: Daily at 2:00 AM
BACKUP_SCHEDULE="0 2 * * *"

# Number of days to keep backups
BACKUP_RETENTION_DAYS=7

# Alert webhook URL (Slack, Discord, etc.) - optional
# BACKUP_ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Alert email address - optional
# BACKUP_ALERT_EMAIL=admin@example.com

# =============================================================================
# PRODUCTION CONFIGURATION CHECKLIST
# =============================================================================
# Before deploying to production, ensure you have:
# 
# ✅ Changed all passwords to strong, randomly generated values
# ✅ Set NODE_ENV=production
# ✅ Configured your actual domain name
# ✅ Updated FRONTEND_URL and BACKEND_URL to use HTTPS
# ✅ Set up Google OAuth with production callback URL
# ✅ Configured ACME_EMAIL for Let's Encrypt notifications
# ✅ Set strong Grafana admin password
# ✅ Configured backup alerts (webhook or email)
# ✅ Reviewed all security settings
#
# Generate secure passwords with:
#   openssl rand -base64 32
#
# Generate Traefik dashboard password with:
#   htpasswd -nb admin your-password
# =============================================================================
